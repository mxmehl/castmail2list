{% extends "base.html" %}

{% block title %}{{ _('Edit Subscriber') }} - {{ subscriber.name }}{% endblock %}

{% block content %}
<h2>{{ _('Edit Subscriber') }}</h2>

{%- include "flash.html" %} {# Show flash messages #}

{%- if is_email_a_list(subscriber.email) %}
<p>
    <a href="{{ url_for('lists.edit', list_id=is_email_a_list(subscriber.email).id) }}" role="button" class="">
        {{ _('Edit List Settings') }}
    </a>
    <a href="{{ url_for('lists.subscribers_manage', list_id=is_email_a_list(subscriber.email).id) }}" role="button" class="secondary">
        {{ _('View List Subscribers') }}
    </a>
</p>
{%- endif %}

<p>{{ _('On list: %(name)s', name=mailing_list.name) }}</p>

<form method="POST">
    {{ form.csrf_token }}

    {{ form.name.label }}
    {{ form.name }}
    {% if form.name.errors %}
    <div class="text-danger">
        {% for error in form.name.errors %}
        <small>{{ error }}</small>
        {% endfor %}
    </div>
    {% endif %}

    {{ form.email.label }}
    {{ form.email }}
    {% if form.email.errors %}
    <div class="text-danger">
        {% for error in form.email.errors %}
        <small>{{ error }}</small>
        {% endfor %}
    </div>
    {% endif %}

    {{ form.comment.label }}
    {{ form.comment }}
    {% if form.comment.errors %}
    <div class="text-danger">
        {% for error in form.comment.errors %}
        <small>{{ error }}</small>
        {% endfor %}
    </div>
    {% endif %}

    {{ form.submit }}
</form>
{% endblock %}
